"use strict";function features(){function r(e){a.style.width=parseInt(e)+"px"}for(var a=document.querySelector(".features__grid__bg"),i=document.querySelectorAll(".features__grid__item__btn"),l=document.querySelectorAll(".features__grid__item__main"),s=l.length,e=0;e<s;e++)!function(n){i[n].addEventListener("click",function(e){for(var t=0;t<s;t++)n!=t&&i[t].parentNode.classList.remove("active");i[n].parentNode.classList.contains("active")?(a.style.width=0,i[n].parentNode.classList.remove("active")):(r(l[n].clientWidth),i[n].parentNode.classList.add("active"))})}(e);w.addEventListener("resize",function(){if(980<=wW)for(var e=0;e<s;e++)i[e].parentNode.classList.contains("active")&&r(l[e].clientWidth)})}function imgLoadCheck(n,r,a){if(null!=n){var e=n.getAttribute("data-src"),t=strDefaultThumbnail;if(""==t&&(t="/_site/images/design/thumbnail.jpg"),n.classList.contains("loaded")||n.classList.contains("loading"))a();else{n.classList.add("loading"),null==e&&(e=t);var i=new Image,l=e;l=(i.src=l).replace(/\s/g,"%20"),i.onload=function(){s()},i.onerror=function(){console.log("Lazyload: image "+(""==l?"not specified.":'"'+l+'" not found.')+" Replaced with default thumbnail."),l=t,s()}}}var s=function(){var e,t=n.getAttribute("data-alt");null==t&&(t=""),e=blnObjectFit&&r?'<img class="lazy-item" src="'+l+'" alt="'+t+'"/>':'<div class="lazy-item" style="background-image: url(&#39;'+l+'&#39;)">',n.insertAdjacentHTML("beforeend",e),w.getComputedStyle(n).opacity,setTimeout(function(){n.classList.add("loaded"),n.classList.remove("loading")},100),a()}}function lazyload(e,r){function a(e,t,n){switch(t){case"img":var r=e.getAttribute("data-type");imgLoadCheck(e,null==r||"img"==r,function(){});break;default:e.classList.add("hit")}blnIntersectionObserver&&n.unobserve(e)}var t=document.querySelectorAll(e),n=t.length,i=[];if(blnIntersectionObserver){for(var l=0;l<n;l++){var s=t[l].getAttribute("data-rootMargin");null==s&&(s="0px");for(var o=!1,c="0px 0px "+s+" 0px",u=0;u<i.length;u++)if(i[u].rootMargin==s){o=!0;break}o||i.push({rootMargin:c,items:[]});for(u=0;u<i.length;u++)if(i[u].rootMargin==c){i[u].items.push(t[l]);break}}var d=i.length,f=function(){var e=i[l].items,t={rootMargin:i[l].rootMargin},n=new IntersectionObserver(function(e,t){Array.prototype.forEach.call(e,function(e){e.isIntersecting&&a(e.target,r,n)})},t);Array.prototype.forEach.call(e,function(e){n.observe(e)})};for(l=0;l<d;l++)f()}else for(l=0;l<n;l++)a(t[l],r,"")}function sliderInit(e,t){for(var n=JSON.parse(e.getAttribute("swiper-opts")),r=e.children,a=r.length,i=0;i<a;i++)r[i].classList.add("swiper-slide");if(e.innerHTML="<div class='swiper'><div class='swiper-wrapper'>"+e.innerHTML+"</div></div>",n.nav){for(i=0;i<2;i++)1==i&&"right",document.querySelector(n.nav).insertAdjacentHTML("beforeend",'<button class="swiper__nav__btn"><svg class="icon_triangle"><use href="#icon_triangle" xlink:href="#icon_triangle" x="0" y="0"/></svg></button>');n.navigation={prevEl:n.nav+" .swiper__nav__btn:first-child",nextEl:n.nav+" .swiper__nav__btn:last-child"}}n.speed=400,n.watchSlidesProgress=!0,t(new Swiper(e.children[0],n))}function parallaxSetup(){for(var e=new IntersectionObserver(function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n].target,a=0;a<arrParallaxView.length;a++)r==arrParallaxView[a].watcher&&(arrParallaxView[a].found=e[n].isIntersecting)},{rootMargin:"0px 0px 0px 0px"}),t=document.querySelectorAll("[plx-type]"),n=t.length,r=0;r<n;r++){var a=t[r],i=void 0,l=a.getAttribute("plx-watcher");i="parent"==l?a.parentNode:document.querySelector(l);for(var s=!1,o=0;o<arrParallaxView.length;o++)if(arrParallaxView[o].watcher==i){s=o;break}!1===s?(arrParallaxView.push({watcher:i,elements:[a],found:!1}),e.observe(i)):arrParallaxView[s].elements.push(a)}}function parallaxScroll(){for(var e=0;e<arrParallaxView.length;e++)if(arrParallaxView[e].found)for(var t=0;t<arrParallaxView[e].elements.length;t++){var n=arrParallaxView[e].elements[t],r=n.getAttribute("plx-speed")||.1,a=n.getBoundingClientRect().top+wY,i=n.offsetHeight,l=a+i/2,s=!1,o=void 0;if(1050<wW)switch(n.getAttribute("plx-type")){case"center":o=(wY-(l-wH/2))*r;break;case"top":o=wY*r;break;case"topScreen":o=wY>n.getBoundingClientRect().top+wY?-n.getBoundingClientRect().top*r:0;break;case"bg":s=!0,r<=1&&(r=1.5);var c=i*r,u=c-i,d=(n.getBoundingClientRect().top-wH)/(i+wH);o=(u*(d=-d)).toFixed(2)}else"bg"==n.getAttribute("plx-type")&&(s=!0),o=0;s?n.children.length&&(n.children[0].style.top="auto",n.children[0].style.height=c+"px",n.children[0].style.backgroundSize="cover",n.children[0].style.transform="translate3D(0,"+o+"px, 0)"):n.style.transform="translate3D(0,"+o+"px, 0)"}}function saveCookie(e,t,n,r){mason.classList.add(t),Cookies.allowed()&&$.cookie(e,n,{path:"/",expires:parseInt(r)})}var w=window,mason=document.querySelector(".mason"),blnObjectFit=Modernizr.objectfit,blnIntersectionObserver="IntersectionObserver"in w,blnHome=mason.classList.contains("mason--home"),wW=0,wH=0,wY=0,dH=0,blnScrollTick=!1,arrParallaxView=[],slideValues=document.querySelectorAll(".hero__overlay__values li"),intSlideValues=slideValues.length,intCurrentSlide=0;blnIntersectionObserver&&parallaxSetup(),(w.slider=function(e){null==e&&(e=".js_swiper");for(var t=document.querySelectorAll(e),n=t.length,r=0;r<n;r++)sliderInit(t[r],function(){})})(),lazyload(".js_lazy","img"),lazyload(".js_hit","hit");var heroCycle=new ecoCycle(".hero__slideshow",{onChange:function(){if(blnHome&&0<intSlideValues){for(var e=0;e<intSlideValues;e++)slideValues[e].classList.remove("active");slideValues[intCurrentSlide].classList.add("active"),intCurrentSlide==intSlideValues-1?intCurrentSlide=0:intCurrentSlide++}},shuffle:!blnHome});heroCycle.init(),w.addEventListener("load",function(){wUpdate(),mason.classList.add("mason--ready")}),w.addEventListener("resize",function(){wUpdate()}),w.addEventListener("scroll",function(){!blnScrollTick&&w.requestAnimationFrame(function(){wUpdate(),blnScrollTick=!1}),blnScrollTick=!0},!!Modernizr.passiveeventlisteners&&{passive:!0}),document.querySelector(".menu__bg").addEventListener("click",function(){mason.classList.remove("mason--menu")});for(var menuItemSubs=document.querySelectorAll(".menu__bar__item--subitems .menu__bar__item__sub"),intMenuItemSubs=menuItemSubs.length,i=0;i<intMenuItemSubs;i++)8<menuItemSubs[i].children.length&&menuItemSubs[i].parentNode.classList.add("menu__bar__item--multicol");var homePage=function(){document.querySelectorAll(".hero__slideshow__item").length<2&&new ecoCycle(".hero__overlay__values ul",{}).init();0<$(".scrollingbanner__inner").length&&$(".scrollingbanner__inner").marquee({speed:100,pauseOnHover:!0}),features()},noAdmin=function(){for(var e=document.querySelectorAll(".template--accordion__title"),t=e.length,n=0;n<t;n++)e[n].insertAdjacentHTML("beforeend","<span class='template--accordion__icon'><svg class='icon_plus'><use href='#icon_plus' xlink:href='#icon_plus' x='0' y='0'/></svg></span>")},wUpdate=function(){wY=w.pageYOffset,wW=w.innerWidth,wH=w.innerHeight,blnIntersectionObserver&&parallaxScroll(),200<wY?mason.classList.add("mason--scrollup-visible"):mason.classList.remove("mason--scrollup-visible")},urgentNews=function(){for(var n=document.querySelectorAll("button[data-cookie]"),e=n.length,t=0;t<e;t++)!function(t){n[t].addEventListener("click",function(e){saveCookie(n[t].getAttribute("data-cookietype"),n[t].getAttribute("data-class"),n[t].getAttribute("data-cookie"),n[t].getAttribute("data-expiry"))})}(t)};